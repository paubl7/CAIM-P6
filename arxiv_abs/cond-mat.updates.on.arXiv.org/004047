The asymptotic (non)equivalence of canonical and microcanonical ensembles, describing systems
with soft and hard constraints respectively, is a central concept in statistical physics. Traditionally,
ensemble equivalence (EE) has been associated with the vanishing of the relative canonical fluctuations
of the constraints in the thermodynamic limit. Recently, it has been reformulated in terms of a vanishing
relative entropy density between microcanonical and canonical probabilities. The earliest observations
of the breakdown of EE required phase transitions or long-range interactions. More recent research
on binary networks found that an extensive number of local constraints can also break EE, even in
absence of phase transitions. In this work we study for the first time ensemble nonequivalence in
weighted networks with local constraints. Unlike their binary counterpart, these networks can
undergo a form of Bose-Einstein condensation (BEC) producing a core-periphery structure where
a finite fraction of the link weights concentrates in the core. This phenomenon creates a unique
setting where local constraints coexist with a phase transition. We find that all the relative fluctuations
vanish in the non-BEC phase while some of them do not vanish in the BEC phase, showing that fluctuations
are sensitive to the phase transition. By contrast, for all positive temperatures the relative
entropy density never vanishes, showing that EE is broken by the extensivity of the number of constraints,
irrespective of BEC. Only at zero temperature, where the effective number of constraints becomes
finite, EE is broken by BEC in a subtle way. Therefore, in presence of local constraints, the vanishing
of relative fluctuations no longer guarantees EE. 