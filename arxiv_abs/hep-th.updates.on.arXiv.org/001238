We study the thermodynamics of a $d$-dimensional Schwarzschild black hole in the canonical ensemble.
This generalizes York's formalism to any number $d$ of dimensions. The canonical ensemble, characterized
by a cavity of fixed radius $r$ and fixed temperature $T$ at the boundary, allows for two possible
solutions in thermal equilibrium, a small and a large black hole. From the Euclidean action and the
path integral approach, we obtain the free energy, the thermodynamic energy, the pressure, and
the entropy, of the black hole plus cavity system. The entropy is given by the Bekenstein-Hawking
area law. The heat capacity shows that the smaller black hole is in unstable equilibrium and the larger
is stable. The photon sphere radius divides the stability criterion. To study perturbations, a
generalized free energy function is obtained that allows to understand the possible phase transitions
between classical hot flat space and the black holes. The Buchdahl radius, that appears naturally
in the general relativistic study of star structure, also shows up in our context, the free energy
is zero when the cavity's radius has the Buchdahl radius value. Then, if the cavity's radius is smaller
than the Buchdahl radius classical hot flat space can nucleate a black hole. It is also pointed out
the link between the canonical analysis performed and the direct perturbation of the path integral.
Since gravitational hot flat space is a quantum system made purely of gravitons it is of interest
to compare the free energies of quantum hot flat space and the stable black hole to find for which ranges
of $r$ and $T$ one phase predominates over the other. Phase diagrams are displayed. The density of
states at a given energy is found. Further calculations and comments are carried out, notably, a
connection to thin shells in $d$ spacetime dimensions which are systems that are also apt to rigorous
thermodynamics. 