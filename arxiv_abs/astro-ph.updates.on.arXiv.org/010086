Extended Lyman-alpha emission around galaxies and quasars at high redshift is now commonly detected
through stacking as well as surrounding individual galaxies. Despite the increasing samples and
the extensive characterization through surface brightness profiles, the physical origin of these
Lyman-alpha halos (LAHs), as well as their relationships to galaxies, quasars, circumgalactic
gas, and other environmental factors remains unclear. We present results from our new Lyman-alpha
full radiative transfer code \textsc{voroILTIS} which runs directly on the unstructured Voronoi
tessellation of cosmological hydrodynamical simulations. We use TNG50, the highest resolution
run of the IllustrisTNG suite, and simulate LAHs from redshift $z=2$ to $z=5$, focusing on star-forming
galaxies with $8.0 < \log_{10}{(M_\star/\rm{M}_\odot)} < 10.5$. We present the predictions for
the stacked radial surface brightness profiles of Ly$\alpha$ as a function of galaxy mass and redshift.
Comparison with data from the MUSE UDF at $z>3$ reveals a promising level of agreement. We measure
the correlations of LAH size and central brightness with galaxy properties, finding that at intermediate
masses $8.5 \leq \log_{10} \left(M_\star/\rm{M}_\odot\right) \leq 9.5$, LAH sizes roughly double
from $z=2$ to $z=5$. Finally, we decompose the profiles into contributions from different sources,
namely diffuse emission from recombinations and de-excitations, and scattered photons from star-forming
regions. In our simulations, we find rescattered photons from star-forming regions to be the major
source in observed LAHs. Unexpectedly, we find that the flattening of LAH profiles at large radii
becomes dominated by photons originating from other nearby, more massive halos, rather than diffuse
emission itself. 