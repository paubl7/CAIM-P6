Stellar magnetic activity produces time-varying distortions in the photospheric line profiles
of solar-type stars. These lead to systematic errors in high-precision radial-velocity measurements,
which limit efforts to discover and measure the masses of low-mass exoplanets with orbital periods
of more than a few tens of days. We present a new data-driven method for separating Doppler shifts
of dynamical origin from apparent velocity variations arising from variability-induced changes
in the stellar spectrum. We show that the autocorrelation function (ACF) of the cross-correlation
function used to measure radial velocities is effectively invariant to translation. By projecting
the radial velocities on to a subspace labelled by the observation identifiers and spanned by the
amplitude coefficients of the ACF's principal components, we can isolate and subtract velocity
perturbations caused by stellar magnetic activity. We test the method on a 5-year time sequence
of 853 daily 15-minute observations of the solar spectrum from the HARPS-N instrument and solar-telescope
feed on the 3.58-m Telescopio Nazionale Galileo. After removal of the activity signals, the heliocentric
solar velocity residuals are found to be Gaussian and nearly uncorrelated. We inject synthetic
low-mass planet signals with amplitude $K=40$ cm s$^{-1}$ into the solar observations at a wide
range of orbital periods. Projection into the orthogonal complement of the ACF subspace isolates
these signals effectively from solar activity signals. Their semi-amplitudes are recovered with
a precision of $\sim~6.6$ cm s$^{-1}$, opening the door to Doppler detection and characterization
of terrestrial-mass planets around well-observed, bright main-sequence stars across a wide range
of orbital periods. 