In addition to their low stellar densities, ultra-diffuse galaxies (UDGs) have a broad variety
of dynamical mass-to-light ratios, ranging from dark matter (DM) dominated systems to objects
nearly devoid of DM. To investigate the origin of this diversity, we develop a simple, semi-empirical
model that predicts the structural evolution of galaxies, driven by feedback from massive star
clusters, as a function of their departure from the mean SMHM relation. The model predicts that a
galaxy located $\gtrsim 0.5$ dex above the mean relation at $M_{\rm halo}=10^{10}M_{\odot}$ will
host a factor of $\sim 10-100$ larger globular cluster (GC) populations, and that feedback from
these GCs drives a significant expansion of the stellar component and loss of DM compared to galaxies
on the SMHM relation. This effect is stronger in haloes that collapse earlier and have enhanced star
formation rates at $z\gtrsim2$, which leads to increased gas pressures, stellar clustering, and
mean cluster masses, and significantly enhances the energy loading of galactic winds and its impact
on the DM and stellar orbits. The impact on galaxy size and DM content can be large enough to explain
observed galaxies that contain nearly the universal baryon fraction, as well as NGC1052-DF2 and
DF4 and other isolated UDGs that contain almost no DM. The trend of increasing galaxy size with GC
specific frequency observed in galaxy clusters also emerges naturally in the model. Our predictions
can be tested with large and deep surveys of the stellar and GC populations in dwarfs and UDGs. Because
stellar clustering drives the efficiency of galactic winds, it may be a dominant factor in the structural
evolution of galaxies and should be included as an essential ingredient in galaxy formation models.
