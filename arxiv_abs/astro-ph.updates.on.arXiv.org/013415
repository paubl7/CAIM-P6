The number of satellites in low-Earth orbit is increasing rapidly, and many tens of thousands of
them are expected to be launched in the coming years. There is a strong concern among the astronomical
community about the contamination of optical and near-infrared observations by satellite trails.
We analyze the impact analysis of such constellations on optical and near-infrared astronomical
observations in a rigorous and quantitative way, using updated constellation information, and
considering imagers and spectrographs and their very different characteristics. We introduce
an analytical method that allows us to rapidly and accurately evaluate the effect of a very large
number of satellites, accounting for their magnitudes and the effect of trailing of the satellite
image during the exposure. We use this to evaluate the impact on a series of representative instruments,
including imagers (traditional narrow field instruments, wide-field survey cameras, and astro-photographic
cameras) and spectrographs (long-slit and fibre-fed), taking into account their limiting magnitude.
As already known (Walker et al. 2020), the effect of satellite trails is more damaging for high-altitude
satellites, on wide-field instruments, or essentially during the first and last hours of the night.
Thanks to their brighter limiting magnitudes, low- and mid-resolution spectrographs will be less
affected, but the contamination will be at about the same level as that of the science signal, introducing
additional challenges. High-resolution spectrographs will essentially be immune. We propose
a series of mitigating measures, including one that uses the described simulation method to optimize
the scheduling of the observations. We conclude that no single mitigation measure will solve the
problem of satellite trails for all instruments and all science cases. 