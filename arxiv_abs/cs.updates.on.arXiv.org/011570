Future IoT networks consist of heterogeneous types of IoT devices (with various communication
types and energy constraints) which are assumed to belong to an IoT service provider (ISP). To power
backscattering-based and wireless-powered devices, the ISP has to contract with an energy service
provider (ESP). This article studies the strategic interactions between the ISP and its ESP and
their implications on the joint optimal time scheduling and energy trading for heterogeneous devices.
To that end, we propose an economic framework using the Stackelberg game to maximize the network
throughput and energy efficiency of both the ISP and ESP. Specifically, the ISP leads the game by
sending its optimal service time and energy price request (that maximizes its profit) to the ESP.
The ESP then optimizes and supplies the transmission power which satisfies the ISP's request (while
maximizing ESP's utility). To obtain the Stackelberg equilibrium (SE), we apply a backward induction
technique which first derives a closed-form solution for the ESP. Then, to tackle the non-convex
optimization problem for the ISP, we leverage the block coordinate descent and convex-concave
procedure techniques to design two partitioning schemes (i.e., partial adjustment (PA) and joint
adjustment (JA)) to find the optimal energy price and service time that constitute local SEs. Numerical
results reveal that by jointly optimizing the energy trading and the time allocation for heterogeneous
IoT devices, one can achieve significant improvements in terms of the ISP's profit compared with
those of conventional transmission methods. Different tradeoffs between the ESP's and ISP's profits
and complexities of the PA/JA schemes can also be numerically tuned. Simulations also show that
the obtained local SEs approach the socially optimal welfare when the ISP's benefit per transmitted
bit is higher than a given threshold. 