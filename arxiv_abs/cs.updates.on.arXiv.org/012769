The measurement of treatment (intervention) effects on a single (or just a few) treated unit(s)
based on counterfactuals constructed from artificial controls has become a popular practice in
applied statistics and economics since the proposal of the synthetic control method. In high-dimensional
setting, we often use principal component or (weakly) sparse regression to estimate counterfactuals.
Do we use enough data information? To better estimate the effects of price changes on the sales in
our case study, we propose a general framework on counterfactual analysis for high dimensional
dependent data. The framework includes both principal component regression and sparse linear
regression as specific cases. It uses both factor and idiosyncratic components as predictors for
improved counterfactual analysis, resulting a method called Factor-Adjusted Regularized Method
for Treatment (FarmTreat) evaluation. We demonstrate convincingly that using either factors
or sparse regression is inadequate for counterfactual analysis in many applications and the case
for information gain can be made through the use of idiosyncratic components. We also develop theory
and methods to formally answer the question if common factors are adequate for estimating counterfactuals.
Furthermore, we consider a simple resampling approach to conduct inference on the treatment effect
as well as bootstrap test to access the relevance of the idiosyncratic components. We apply the proposed
method to evaluate the effects of price changes on the sales of a set of products based on a novel large
panel of sale data from a major retail chain in Brazil and demonstrate the benefits of using additional
idiosyncratic components in the treatment effect evaluations. 