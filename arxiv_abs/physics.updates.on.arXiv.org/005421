Free-electron lasers (FELs) over virtually the entire electromagnetic spectrum from microwaves
through ultraviolet through hard x-rays that are either seeded or start from noise. FELs can produce
a variety of different optical polarizations of the output radiation ranging from linear through
elliptic to circular polarization depending upon the characteristics of the undulators used.
For example, x-ray FELs use long undulator lines composed of a series of relatively short undulators.
Most such FELs use linearly polarized undulators due to the ease of manufacture and tuning; hence
the optical output is linearly polarized. However, elliptic or circular polarizations are possible
by varying the orientation of the undulators along the line. Alternately, APPLE-II or Delta undulator
designs allow for producing undulating magnetic fields with arbitrary polarizations. Here, we
present a three-dimensional, time-dependent formulation that self-consistently models two
independent optical polarizations and, therefore, completely treats any given sequence or combination
of undulator, undulator imperfections, and undulator degradation There are two principal characteristics
of the formulation that underpin this capability. In the first place, the particle trajectories
are integrated by means of the full Lorentz force equations using three-dimensional analytic models
of the undulators fields. This permits an accurate model of the interaction of the electrons with
a large variety of undulator fields and orientations. In the second place, the formulation allows
the electrons to couple simultaneously to two independent polarizations of the electromagnetic
wave and, therefore, allows the optical polarization to evolve self-consistently along the undulator
line. After first describing the numerical model, we proceed to give some examples using different
undulator configurations that are of interest. 